{"remainingRequest":"/Users/tomohiro/programing/vue-django-kyujin/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tomohiro/programing/vue-django-kyujin/frontend/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tomohiro/programing/vue-django-kyujin/frontend/src/views/Home.vue","mtime":1643208923463},{"path":"/Users/tomohiro/programing/vue-django-kyujin/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1643030439459},{"path":"/Users/tomohiro/programing/vue-django-kyujin/frontend/node_modules/babel-loader/lib/index.js","mtime":1643030432819},{"path":"/Users/tomohiro/programing/vue-django-kyujin/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1643030439459},{"path":"/Users/tomohiro/programing/vue-django-kyujin/frontend/node_modules/vue-loader/lib/index.js","mtime":1643030438658}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFwaVNlcnZpY2UgfSBmcm9tICIuLi9jb21tb24vYXBpLnNlcnZpY2UuanMiCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJob21lIiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgam9iczogW10sCiAgICAgICAgICAgIG5leHQ6IG51bGwsCiAgICAgICAgICAgIGxvYWRpbmdKb2JzOiBmYWxzZQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0Sm9icygpIHsKICAgICAgICAgICAgbGV0IGVuZHBvaW50ID0gImFwaS9qb2JzLyI7CiAgICAgICAgICAgIGlmICh0aGlzLm5leHQpIHsKICAgICAgICAgICAgICAgIGVuZHBvaW50ID0gdGhpcy5uZXh0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMubG9hZGluZ0pvYnMgPSB0cnVlOwogICAgICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgdGhpcy5qb2JzLnB1c2goLi4uZGF0YS5yZXN1bHRzKQogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nSm9icyA9IGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKGRhdGEubmV4dCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dCA9IGRhdGEubmV4dDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmdldEpvYnMoKQogICAgICAgIGRvY3VtZW50LnRpdGxlID0gIkpvYiBCb2FyZCI7CiAgICB9Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <v-container>\n            <div v-for = \"job in jobs\" :key = \"job.pk\">\n                <h2>\n                    <router-link\n                        :to = \"{ name: 'job', params: { id: job.id } }\"\n                        class = \"job-link\"\n                    >{{ job.company_name }}\n                    </router-link>\n                </h2>\n                <p>{{ job.job_title }}</p>\n                <hr>\n            </div>\n            <div class=\"my-4\">\n                <p v-show = \"loadingJobs\">...loading...</p>\n                <v-btn\n                    v-show = \"next\"\n                    @click = \"getJobs\"\n                    color = \"success\"\n                >Load More\n                </v-btn>\n            </div>\n        </v-container>\n    </div>\n</template>\n\n<script>\nimport { apiService } from \"../common/api.service.js\"\nexport default {\n    name: \"home\",\n    data() {\n        return {\n            jobs: [],\n            next: null,\n            loadingJobs: false\n        }\n    },\n    methods: {\n        getJobs() {\n            let endpoint = \"api/jobs/\";\n            if (this.next) {\n                endpoint = this.next;\n            }\n            this.loadingJobs = true;\n            apiService(endpoint).then(data => {\n                this.jobs.push(...data.results)\n                this.loadingJobs = false;\n                if (data.next) {\n                    this.next = data.next;\n                } else {\n                    this.next = null;\n                }\n            })\n        }\n    },\n    created() {\n        this.getJobs()\n        document.title = \"Job Board\";\n    }\n}\n</script>\n\n<style scoped>\n.job-link {\n    font-weight: bold;\n    color: black;\n    text-decoration: none;\n}\n\n.job-link:hover {\n    color: #41B883;\n}\n</style>"]}]}